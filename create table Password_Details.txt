create table Password_Details
	(
    ID number,
    User_Name varchar2(100),
    Password varchar2(100),
    Created_By varchar2(100),
    Created_Date Date,
    Modified_By varchar2(100),
    Modified_Date varchar2(100)
    );
--based on user name we have to generate user_id and password
Create or Replace Procedure Password_Generation(
    P_User_Name Password_Details.User_Name%type,
    P_User_ID OUT Password_Details.ID%Type,
    P_Password OUT Password_Details.Password%type
)
AS
BEGIN
	select NVL(MAX(ID),0)+1 into P_User_ID from Password_DEtails;
	select upper(SUBSTR(P_User_Name,1,2))|| dbms_random.string('P',8) into P_Password from dual;
	Insert into Password_Details(
                                ID,
                                User_Name,
                                Password,
                                Created_By,
                                Created_Date,
                                Modified_By,
                                Modified_Date) 
        values ( P_User_ID,P_User_Name,P_Password,'ADMIN',SYSDATE,'ADMIN',SYSDATE);
	commit;
end Password_Generation;

--Execute Procedure
Declare
	ID Varchar2(100);
	Pwd Varchar2(100);
Begin
	Password_Generation('Shailvi',ID,Pwd);
	dbms_output.put_line('IS is: '|| ID ||' '|| 'Password is: '|| Pwd);
end;

Select * from Password_Details;


--- Password Validation 
	--While updating the Password, the password shouldn't be the last three passowrds
